# ðŸ“š å­¦ä¹ è·¯çº¿å›¾ï¼šMySQL

## ä¸€ã€æ ¸å¿ƒä»·å€¼ä¸Žå®šä½

- **æ˜¯ä»€ä¹ˆ**ï¼šä¸–ç•Œä¸Šæœ€æµè¡Œçš„å¼€æºå…³ç³»åž‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨ SQL è¯­è¨€è¿›è¡Œæ•°æ®æ“ä½œ
- **ä¸ºä»€ä¹ˆå­¦**ï¼š
  - 80% çš„ Web åº”ç”¨åŽç«¯é¦–é€‰æ•°æ®åº“
  - å°±ä¸šå¿…å¤‡æŠ€èƒ½ï¼Œå…¨æ ˆå¼€å‘è€…çš„æ ¸å¿ƒç«žäº‰åŠ›
  - ä½ çš„ Go/Java/Node.js æœåŠ¡ç«¯å¼€å‘ç¦»ä¸å¼€å®ƒ
- **å­¦å®Œèƒ½åšä»€ä¹ˆ**ï¼š
  1. ä¸ºå…¨æ ˆåº”ç”¨è®¾è®¡é«˜æ€§èƒ½æ•°æ®åº“æž¶æž„
  2. ä¼˜åŒ–æ…¢æŸ¥è¯¢ï¼Œè§£å†³çº¿ä¸Šæ€§èƒ½ç“¶é¢ˆ
  3. è®¾è®¡ç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„æ•°æ®è¡¨ç»“æž„
  4. åœ¨æ ‘èŽ“æ´¾/æœ¬åœ°æ­å»ºç§æœ‰æ•°æ®åº“æœåŠ¡
  5. ç†è§£ ORM æ¡†æž¶ï¼ˆGORM/Sequelizeç­‰ï¼‰èƒŒåŽçš„åŽŸç†

---

## äºŒã€å‰ç½®çŸ¥è¯†æ£€æŸ¥

### å¿…å¤‡åŸºç¡€
- âœ… **SQL åŸºç¡€è¯­æ³•**ï¼šSELECTã€INSERTã€UPDATEã€DELETEã€JOIN
  - å¦‚æžœä¸ç†Ÿæ‚‰ â†’ å»ºè®® 2 å°æ—¶å¿«é€Ÿå­¦ä¹  W3School SQL æ•™ç¨‹
- âœ… **åŸºæœ¬ç¼–ç¨‹æ¦‚å¿µ**ï¼šå˜é‡ã€å¾ªçŽ¯ã€æ¡ä»¶åˆ¤æ–­
  - ä½ å·²å…·å¤‡ï¼Œæ— éœ€è¡¥å……
- âœ… **ç»ˆç«¯æ“ä½œ**ï¼šåŸºæœ¬å‘½ä»¤è¡Œä½¿ç”¨
  - ä½ å·²å…·å¤‡ï¼Œæ— éœ€è¡¥å……

---

## ä¸‰ã€çŸ¥è¯†å¯¹ç…§è¡¨ï¼ˆå·²æœ‰çŸ¥è¯†æ˜ å°„ï¼‰

> ðŸŽ¯ **æ ¸å¿ƒç­–ç•¥ï¼šä»¥æ—§å¸¦æ–°** - å……åˆ†åˆ©ç”¨ä½ å·²æœ‰çš„ 10 å¹´å‰ç«¯ + 3 å¹´å…¨æ ˆç»éªŒ

### 3.1 æ¦‚å¿µå¯¹ç…§è¡¨

| MySQL æ¦‚å¿µ | ä½ å·²æœ‰çš„ç±»ä¼¼çŸ¥è¯† | ç›¸ä¼¼åº¦ | å­¦ä¹ æç¤º & å·®å¼‚ç‚¹ |
|-----------|----------------|-------|------------------|
| **è¡¨ï¼ˆTableï¼‰** | JavaScript çš„å¯¹è±¡æ•°ç»„ / JSON æ–‡æ¡£ | â­â­â­â­â­ | ç»“æž„ç›¸åŒï¼Œä½† MySQL æœ‰ä¸¥æ ¼ç±»åž‹çº¦æŸï¼›å¼ºè°ƒé¢„å®šä¹‰ Schema |
| **ä¸»é”®ï¼ˆPrimary Keyï¼‰** | å‰ç«¯åˆ—è¡¨æ¸²æŸ“çš„ `key` å±žæ€§ / MongoDB çš„ `_id` | â­â­â­â­â­ | å®Œå…¨ç›¸åŒæ¦‚å¿µï¼Œå”¯ä¸€æ ‡è¯†æ¯ä¸€è¡Œæ•°æ® |
| **ç´¢å¼•ï¼ˆIndexï¼‰** | JavaScript æ•°ç»„çš„æŸ¥æ‰¾ / å‰ç«¯è·¯ç”±çš„ path-to-regexp | â­â­â­â­ | æœ¬è´¨éƒ½æ˜¯"åŠ é€ŸæŸ¥æ‰¾"ï¼Œä½† MySQL ç”¨ B+ æ ‘ï¼Œéœ€ç†è§£æœ€å·¦å‰ç¼€åŽŸåˆ™ |
| **å¤–é”®ï¼ˆForeign Keyï¼‰** | React/Relay çš„æ•°æ®å…³è”å¼•ç”¨ | â­â­â­â­ | æ¦‚å¿µç›¸åŒï¼Œä½† MySQL æ”¯æŒçº§è”åˆ é™¤/æ›´æ–° |
| **äº‹åŠ¡ï¼ˆTransactionï¼‰** | JavaScript çš„ Promise.allï¼ˆè¦ä¹ˆå…¨æˆåŠŸè¦ä¹ˆå…¨å¤±è´¥ï¼‰ | â­â­â­â­ | ACID ç‰¹æ€§æ˜¯å…¨æ–°çš„ï¼Œä½†"åŽŸå­æ€§"æ¦‚å¿µä¸Ž Promise.all ç±»ä¼¼ |
| **è¿žæŽ¥æ± ** | Node.js çš„ http.Agent / çº¿ç¨‹æ±  | â­â­â­â­â­ | å®Œå…¨ç›¸åŒæ¦‚å¿µï¼Œå¤ç”¨è¿žæŽ¥å‡å°‘å¼€é”€ |
| **æ…¢æŸ¥è¯¢æ—¥å¿—** | å‰ç«¯æ€§èƒ½ç›‘æŽ§ / Chrome DevTools Performance | â­â­â­â­â­ | å®Œå…¨ç›¸åŒçš„æ€§èƒ½åˆ†æžæ€è·¯ |
| **B+ æ ‘ç»“æž„** | å‰ç«¯çš„äºŒå‰æ ‘éåŽ† / è™šæ‹Ÿ DOM çš„ diff ç®—æ³• | â­â­â­ | éƒ½æ˜¯æ ‘å½¢ç»“æž„ï¼Œä½† B+ æ ‘æ˜¯å¤šè·¯å¹³è¡¡æ ‘ï¼Œä¸“é—¨ä¸ºç£ç›˜å­˜å‚¨ä¼˜åŒ– |
| **åˆ†åº“åˆ†è¡¨** | å‰ç«¯çš„ä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰ | â­â­â­ | éƒ½æ˜¯ä¸ºäº†"åˆ†è€Œæ²»ä¹‹"ï¼Œä½†åˆ†åº“åˆ†è¡¨æœ‰æ›´å¤šç­–ç•¥ï¼ˆæ°´å¹³/åž‚ç›´ï¼‰ |
| **binlogï¼ˆäºŒè¿›åˆ¶æ—¥å¿—ï¼‰** | Git çš„ commit åŽ†å² / å‰ç«¯çš„æ“ä½œæ—¥å¿— | â­â­â­â­ | éƒ½æ˜¯è®°å½•å˜æ›´ï¼Œbinlog ç”¨äºŽä¸»ä»Žå¤åˆ¶å’Œæ•°æ®æ¢å¤ |
| **å­˜å‚¨å¼•æ“Ž** | Webpack çš„ loader é…ç½® / Vite çš„æ’ä»¶ç³»ç»Ÿ | â­â­â­ | éƒ½æ˜¯å¯æ’æ‹”çš„æ¨¡å—åŒ–è®¾è®¡ï¼ŒInnoDB æ˜¯é»˜è®¤é€‰æ‹©ï¼ˆ99% åœºæ™¯ï¼‰ |
| **é”æœºåˆ¶** | JavaScript çš„å¼‚æ­¥é” / å¹¶å‘æŽ§åˆ¶ | â­â­â­ | æ¦‚å¿µç±»ä¼¼ï¼Œä½† MySQL æœ‰è¡Œé”ã€è¡¨é”ã€é—´éš™é”ç­‰æ›´å¤æ‚çš„ç±»åž‹ |
| **EXPLAIN æ‰§è¡Œè®¡åˆ’** | Chrome DevTools çš„ Performance åˆ†æž | â­â­â­â­â­ | å®Œå…¨ç›¸åŒæ€è·¯ï¼Œåˆ†æž SQL å¦‚ä½•æ‰§è¡Œ |

### 3.2 å…¨æ–°æ¦‚å¿µï¼ˆæ— å¯¹ç…§ï¼Œéœ€é‡ç‚¹å­¦ä¹ ï¼‰

| MySQL æ¦‚å¿µ | ä¸ºä»€ä¹ˆæ²¡æœ‰å¯¹ç…§ | é‡è¦ç¨‹åº¦ | å­¦ä¹ å»ºè®® |
|-----------|---------------|---------|---------|
| **ACID ç‰¹æ€§** | è¿™æ˜¯å…³ç³»åž‹æ•°æ®åº“çš„æ ¸å¿ƒç†è®ºï¼Œå‰ç«¯/åº”ç”¨å±‚æ²¡æœ‰å®Œå…¨å¯¹åº”çš„æ¦‚å¿µ | ðŸ”´ æžé«˜ | **å¿…é¡»æŽŒæ¡**ï¼Œç†è§£åŽŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ |
| **MVCCï¼ˆå¤šç‰ˆæœ¬å¹¶å‘æŽ§åˆ¶ï¼‰** | è¿™æ˜¯æ•°æ®åº“ç‹¬æœ‰çš„å¹¶å‘æŽ§åˆ¶æœºåˆ¶ | ðŸ”´ æžé«˜ | ç†è§£"è¯»ä¸åŠ é”"çš„åŽŸç†ï¼Œé¢è¯•å¸¸é—® |
| **æœ€å·¦å‰ç¼€åŽŸåˆ™** | ç´¢å¼•ä½¿ç”¨è§„åˆ™ï¼Œæ²¡æœ‰å…¶ä»–æŠ€æœ¯æœ‰ç±»ä¼¼æ¦‚å¿µ | ðŸŸ  é«˜ | **ç´¢å¼•ä¼˜åŒ–çš„æ ¸å¿ƒ**ï¼Œå¿…é¡»æ·±åˆ»ç†è§£ |
| **å›žè¡¨** | ç´¢å¼•æŸ¥è¯¢åŽéœ€è¦å›žä¸»é”®ç´¢å¼•èŽ·å–å®Œæ•´æ•°æ® | ðŸŸ  é«˜ | ç†è§£è¦†ç›–ç´¢å¼•å¯ä»¥é¿å…å›žè¡¨ |
| **è¦†ç›–ç´¢å¼•** | ç´¢å¼•åŒ…å«äº†æŸ¥è¯¢æ‰€éœ€çš„æ‰€æœ‰å­—æ®µï¼Œæ— éœ€å›žè¡¨ | ðŸŸ  é«˜ | é‡è¦çš„æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µ |
| **ç´¢å¼•ä¸‹æŽ¨ï¼ˆICPï¼‰** | MySQL 5.6+ çš„ä¼˜åŒ–ç‰¹æ€§ | ðŸŸ¡ ä¸­ | äº†è§£å³å¯ï¼Œ8.0 ç‰ˆæœ¬è‡ªåŠ¨ä¼˜åŒ– |
| **é—´éš™é” & ä¸´é”®é”** | InnoDB RR éš”ç¦»çº§åˆ«ä¸‹çš„é”æœºåˆ¶ | ðŸŸ¡ ä¸­ | äº†è§£å³å¯ï¼Œé‡åˆ°æ­»é”é—®é¢˜æ—¶å†æ·±å…¥ |
| **ç›´æ–¹å›¾** | MySQL 8.0 çš„ç»Ÿè®¡ä¿¡æ¯æ”¶é›† | ðŸŸ¡ ä¸­ | 8.4 ç‰ˆæœ¬æ”¯æŒè‡ªåŠ¨æ›´æ–°ï¼Œäº†è§£ä½œç”¨å³å¯ |

---

## å››ã€æ ¸å¿ƒå­¦ä¹ è·¯å¾„ï¼ˆæŒ‰ 20/80 åŽŸåˆ™ç­›é€‰ï¼‰

> â±ï¸ **æ€»é¢„è®¡æ—¶é—´**ï¼š20-30 å°æ—¶ï¼ˆè€ƒè™‘åˆ°ä½ æœ‰å…¨æ ˆç»éªŒï¼Œå­¦ä¹ é€Ÿåº¦ä¼šæ¯”é›¶åŸºç¡€å¿« 3-4 å€ï¼‰

### é˜¶æ®µ 1ï¼šåŸºç¡€é€Ÿé€šï¼ˆé¢„è®¡ 4-6 å°æ—¶ï¼‰

- [ ] **1.1 çŽ¯å¢ƒæ­å»º**
  - å­¦ä¹ è¦ç‚¹ï¼š
    - ä½¿ç”¨ Docker å¿«é€Ÿå¯åŠ¨ MySQL 8.4ï¼ˆä½ ç†Ÿæ‚‰ Dockerï¼Œç›´æŽ¥ç”¨ï¼‰
    - åŸºæœ¬é…ç½®ï¼šå­—ç¬¦é›†ï¼ˆutf8mb4ï¼‰ã€æ—¶åŒºã€SQL æ¨¡å¼
    - å®¢æˆ·ç«¯å·¥å…·æŽ¨èï¼šTablePlusã€MySQL Workbenchã€CLI
  - å®žæ“ç»ƒä¹ ï¼š
    ```bash
    docker run -d --name mysql-dev \
      -e MYSQL_ROOT_PASSWORD=root123 \
      -p 3306:3306 \
      mysql:8.4
    ```

- [ ] **1.2 æ ¸å¿ƒæ•°æ®ç±»åž‹ä¸Žè¡¨è®¾è®¡**
  - å­¦ä¹ è¦ç‚¹ï¼š
    - æ•°å€¼ç±»åž‹ï¼šINTã€BIGINTã€DECIMALï¼ˆé‡‘é¢å¿…é¡»ç”¨ï¼‰
    - å­—ç¬¦ä¸²ï¼šVARCHARã€CHARã€TEXTï¼ˆä¸ºä»€ä¹ˆ VARCHAR æ›´å¸¸ç”¨ï¼‰
    - æ—¥æœŸæ—¶é—´ï¼šDATETIME vs TIMESTAMPï¼ˆæ—¶åŒºé—®é¢˜ï¼‰
    - JSON ç±»åž‹ï¼ˆ8.0+ æ”¯æŒï¼Œå¯¹æ¯” MongoDBï¼‰
  - å®žæ“ç»ƒä¹ ï¼š
    - è®¾è®¡ä¸€ä¸ªç”¨æˆ·è¡¨ï¼ˆusersï¼‰ã€è®¢å•è¡¨ï¼ˆordersï¼‰
    - ç»ƒä¹ ï¼šæ­£ç¡®é€‰æ‹©ä¸»é”®ï¼ˆè‡ªå¢ž vs UUID vs é›ªèŠ±ç®—æ³•ï¼‰

- [ ] **1.3 CRUD é«˜çº§æ“ä½œ**
  - å­¦ä¹ è¦ç‚¹ï¼š
    - JOIN çš„å„ç§ç±»åž‹ï¼ˆINNER/LEFT/RIGHTï¼‰
    - GROUP BY + HAVING
    - å­æŸ¥è¯¢ vs JOINï¼ˆæ€§èƒ½å·®å¼‚ï¼‰
    - LIMIT åˆ†é¡µä¸Žæ·±åˆ†é¡µé—®é¢˜
  - å®žæ“ç»ƒä¹ ï¼š
    - å†™ä¸€ä¸ªç»Ÿè®¡æŠ¥è¡¨ SQLï¼ˆå„ç”¨æˆ·æœˆæ¶ˆè´¹é‡‘é¢ TOP 10ï¼‰

---

### é˜¶æ®µ 2ï¼šæ ¸å¿ƒæŠ€èƒ½ï¼ˆé¢„è®¡ 10-14 å°æ—¶ï¼‰

- [ ] **2.1 ç´¢å¼•åŽŸç†ä¸Žå®žè·µï¼ˆé‡ä¸­ä¹‹é‡ï¼‰**
  - å­¦ä¹ è¦ç‚¹ï¼š
    - B+ æ ‘ç»“æž„ï¼ˆå¯¹æ¯”äºŒå‰æ ‘çš„ä¼˜åŠ¿ï¼‰
    - **èšç°‡ç´¢å¼• vs äºŒçº§ç´¢å¼•**
    - **æœ€å·¦å‰ç¼€åŽŸåˆ™**ï¼ˆæ ¸å¿ƒä¸­çš„æ ¸å¿ƒï¼‰
    - è¦†ç›–ç´¢å¼•ï¼ˆé¿å…å›žè¡¨ï¼‰
    - ç´¢å¼•è®¾è®¡ç­–ç•¥ï¼šåŒºåˆ†åº¦é«˜çš„å­—æ®µä¼˜å…ˆã€è”åˆç´¢å¼•é¡ºåº
  - å®žæ“ç»ƒä¹ ï¼š
    ```sql
    -- åˆ›å»ºç´¢å¼•
    CREATE INDEX idx_user_age_city ON users(age, city);

    -- éªŒè¯ç´¢å¼•ä½¿ç”¨æƒ…å†µ
    EXPLAIN SELECT * FROM users WHERE age = 25 AND city = 'Beijing';

    -- æœ€å·¦å‰ç¼€æµ‹è¯•ï¼šå“ªäº›æŸ¥è¯¢ä¼šç”¨ç´¢å¼•ï¼Ÿ
    EXPLAIN SELECT * FROM users WHERE age = 25;
    EXPLAIN SELECT * FROM users WHERE city = 'Beijing'; -- ä¸ä¼šç”¨ï¼
    ```
  - å®žæˆ˜å°é¡¹ç›®ï¼š
    - å¯¹ä¸€å¼  100 ä¸‡è¡Œçš„è¡¨è¿›è¡Œç´¢å¼•ä¼˜åŒ–ï¼ŒæŸ¥è¯¢ä»Ž 2s ä¼˜åŒ–åˆ° 10ms

- [ ] **2.2 äº‹åŠ¡ä¸Žé”æœºåˆ¶**
  - å­¦ä¹ è¦ç‚¹ï¼š
    - ACID å››å¤§ç‰¹æ€§
    - éš”ç¦»çº§åˆ«ï¼šREAD UNCOMMITTED â†’ READ COMMITTED â†’ REPEATABLE READ â†’ SERIALIZABLE
    - MVCC å·¥ä½œåŽŸç†
    - å¸¸è§é”é—®é¢˜ï¼šæ­»é”ã€é”ç­‰å¾…
  - å®žæ“ç»ƒä¹ ï¼š
    ```sql
    -- æ¼”ç¤ºè„è¯»/ä¸å¯é‡å¤è¯»/å¹»è¯»
    -- ä½¿ç”¨ä¸¤ä¸ªç»ˆç«¯æ¨¡æ‹Ÿå¹¶å‘äº‹åŠ¡
    ```

- [ ] **2.3 SQL ä¼˜åŒ–æŠ€å·§**
  - å­¦ä¹ è¦ç‚¹ï¼š
    - EXPLAIN æ‰§è¡Œè®¡åˆ’åˆ†æžï¼ˆtypeã€rowsã€Extraï¼‰
    - æ…¢æŸ¥è¯¢å®šä½ä¸Žä¼˜åŒ–
    - é¿å… SELECT *
    - OR æ”¹å†™ä¸º UNION
    - LIKE ä¼˜åŒ–ï¼ˆå‰ç¼€åŒ¹é…æ‰èƒ½ç”¨ç´¢å¼•ï¼‰
  - å®žæ“ç»ƒä¹ ï¼š
    - æ‰¾å‡ºç³»ç»Ÿä¸­çš„ 5 ä¸ªæ…¢æŸ¥è¯¢å¹¶ä¼˜åŒ–

- [ ] **2.4 è¡¨è®¾è®¡è§„èŒƒ**
  - å­¦ä¹ è¦ç‚¹ï¼š
    - ä¸‰å¤§èŒƒå¼ï¼ˆç†è§£å³å¯ï¼Œå®žé™…å¸¸æœ‰åèŒƒå¼è®¾è®¡ï¼‰
    - åž‚ç›´åˆ†è¡¨ vs æ°´å¹³åˆ†è¡¨
    - è½¯åˆ é™¤è®¾è®¡ï¼ˆdeleted_atï¼‰
    - created_atã€updated_at æœ€ä½³å®žè·µ
  - å®žæ“ç»ƒä¹ ï¼š
    - é‡æž„ä¸€ä¸ªçŽ°æœ‰è¡¨çš„ Schema

---

### é˜¶æ®µ 3ï¼šç»¼åˆå®žæˆ˜ï¼ˆé¢„è®¡ 6-10 å°æ—¶ï¼‰

- [ ] **é¡¹ç›® 1ï¼šä¸ªäººäº‘ç›˜æ•°æ®åº“è®¾è®¡**
  - **èƒŒæ™¯**ï¼šåˆ©ç”¨ä½ çš„ 4T ç£ç›˜é˜µåˆ— + æ ‘èŽ“æ´¾ï¼Œæ­å»ºä¸ªäººäº‘ç›˜æœåŠ¡
  - è¦†ç›–çŸ¥è¯†ç‚¹ï¼š
    - æ–‡ä»¶å…ƒæ•°æ®è¡¨è®¾è®¡
    - ç›®å½•æ ‘ç»“æž„çš„å­˜å‚¨ï¼ˆé‚»æŽ¥è¡¨ vs åµŒå¥—é›† vs ç‰©åŒ–è·¯å¾„ï¼‰
    - ç´¢å¼•ä¼˜åŒ–ï¼ˆæŒ‰ç”¨æˆ·ã€æ–‡ä»¶ç±»åž‹ã€æ—¶é—´æŸ¥è¯¢ï¼‰
    - åˆ†åŒºè¡¨ï¼ˆæŒ‰æ—¶é—´åˆ†åŒºå­˜å‚¨åŽ†å²ç‰ˆæœ¬ï¼‰
  - éªŒæ”¶æ ‡å‡†ï¼š
    - [ ] æ”¯æŒç§’çº§æ–‡ä»¶æ£€ç´¢
    - [ ] æ”¯æŒ 10 ä¸‡+ æ–‡ä»¶ç®¡ç†
    - [ ] æä¾›åˆ†äº«é“¾æŽ¥åŠŸèƒ½ï¼ˆä¸´æ—¶è®¿é—® Tokenï¼‰

- [ ] **é¡¹ç›® 2ï¼šç±³å®¶æ™ºèƒ½å®¶å±…æ•°æ®å¹³å°ï¼ˆå¯é€‰ï¼‰**
  - **èƒŒæ™¯**ï¼šåˆ©ç”¨ä½ çš„ç±³å®¶æ™ºèƒ½å®¶å±…ç³»ç»Ÿï¼Œæž„å»ºè®¾å¤‡æ•°æ®ä»“åº“
  - è¦†ç›–çŸ¥è¯†ç‚¹ï¼š
    - æ—¶åºæ•°æ®å­˜å‚¨è®¾è®¡ï¼ˆè®¾å¤‡çŠ¶æ€ä¸ŠæŠ¥ï¼‰
    - å¤§æ•°æ®é‡ä¸‹çš„æŸ¥è¯¢ä¼˜åŒ–
    - å®šæ—¶ä»»åŠ¡ï¼ˆæ•°æ®å½’æ¡£ï¼‰
  - éªŒæ”¶æ ‡å‡†ï¼š
    - [ ] å­˜å‚¨å¤šä¸ªè®¾å¤‡çš„åŽ†å²æ•°æ®
    - [ ] æä¾›è®¾å¤‡çŠ¶æ€è¶‹åŠ¿åˆ†æž
    - [ ] æ”¯æŒè‡ªå®šä¹‰æ—¶é—´èŒƒå›´æŸ¥è¯¢

- [ ] **é¡¹ç›® 3ï¼šMySQL ä¸»ä»Žå¤åˆ¶ + è¯»å†™åˆ†ç¦»**
  - **èƒŒæ™¯**ï¼šåœ¨ä½ çš„ Mac + Windows ä¸»æœºä¸Šæ­å»ºä¸»ä»Žæž¶æž„
  - è¦†ç›–çŸ¥è¯†ç‚¹ï¼š
    - binlog åŽŸç†ä¸Žé…ç½®
    - ä¸»ä»Žå¤åˆ¶æ­å»º
    - è¯»å†™åˆ†ç¦»ä¸­é—´ä»¶ï¼ˆProxySQL/ShardingSphereï¼‰
  - éªŒæ”¶æ ‡å‡†ï¼š
    - [ ] ä¸»åº“å†™å…¥ï¼Œä»Žåº“å®žæ—¶åŒæ­¥
    - [ ] ä»Žåº“æ•…éšœä¸å½±å“ä¸»åº“
    - [ ] æ¨¡æ‹Ÿä¸»åº“å®•æœºï¼Œä»Žåº“æå‡

---

## äº”ã€é¿å‘æŒ‡å—

### âŒ å¸¸è§é”™è¯¯

1. **VARCHAR è®¾ç½®å¤ªå¤§**
   - é—®é¢˜ï¼šVARCHAR(10000) å ç”¨å¤§é‡å†…å­˜
   - è§£å†³ï¼šæŒ‰å®žé™…éœ€æ±‚è®¾ç½®ï¼Œå¤Ÿç”¨å³å¯

2. **æ»¥ç”¨ SELECT ***
   - é—®é¢˜ï¼šå¢žåŠ ç½‘ç»œä¼ è¾“å’Œå†…å­˜å¼€é”€
   - è§£å†³ï¼šåªæŸ¥è¯¢éœ€è¦çš„å­—æ®µ

3. **åœ¨ç´¢å¼•åˆ—ä¸Šåšè®¡ç®—**
   - é—®é¢˜ï¼š`WHERE YEAR(created_at) = 2024` ç´¢å¼•å¤±æ•ˆ
   - è§£å†³ï¼š`WHERE created_at >= '2024-01-01' AND created_at < '2025-01-01'`

4. **éšå¼è½¬æ¢**
   - é—®é¢˜ï¼š`WHERE phone = 13800138000`ï¼ˆphone æ˜¯ VARCHARï¼‰
   - è§£å†³ï¼šä¿æŒç±»åž‹ä¸€è‡´ï¼Œ`WHERE phone = '13800138000'`

5. **OFFSET è¿‡å¤§**
   - é—®é¢˜ï¼š`LIMIT 1000000, 10` éœ€è¦æ‰«æ 100 ä¸‡è¡Œ
   - è§£å†³ï¼šä½¿ç”¨æ¸¸æ ‡åˆ†é¡µæˆ–å»¶è¿Ÿå…³è”

### âš ï¸ å®¹æ˜“æµªè´¹æ—¶é—´çš„åœ°æ–¹

- æ·±å…¥ç ”ç©¶ InnoDB æºç  â†’ **é™¤éžè¦æžå†…æ ¸å¼€å‘ï¼Œå¦åˆ™ä¸æŽ¨è**
- æ­»ç£•å„ç§å­˜å‚¨å¼•æ“Ž â†’ **InnoDB è¦†ç›– 99% åœºæ™¯**
- è¿‡æ—©å­¦ä¹ åˆ†åº“åˆ†è¡¨ â†’ **å…ˆä¼˜åŒ–ç´¢å¼•ï¼Œå•è¡¨åƒä¸‡çº§æ²¡é—®é¢˜**
- è¿½æ±‚å®Œå…¨ç¬¦åˆä¸‰å¤§èŒƒå¼ â†’ **å®žé™…ä¸šåŠ¡å¸¸æœ‰åèŒƒå¼è®¾è®¡**

---

## å…­ã€å­¦ä¹ èµ„æºæŽ¨è

### ðŸ“– å®˜æ–¹æ–‡æ¡£ï¼ˆä¼˜å…ˆï¼‰
- [MySQL 8.4 Reference Manual](https://dev.mysql.com/doc/refman/8.4/en/)ï¼ˆè‹±æ–‡ï¼‰
- [MySQL 8.0 ä¸­æ–‡å‚è€ƒæ‰‹å†Œ](https://dev.mysql.com/doc/refman/8.0/zh/)ï¼ˆä¸­æ–‡ï¼‰

### ðŸŽ¬ ç²¾é€‰æ•™ç¨‹
- ðŸ“º [Bç«™ï¼šMySQL æ€§èƒ½ä¼˜åŒ– | åº•å±‚åŽŸç† | æ•°æ®åº“å®žæˆ˜](https://www.bilibili.com/video/BV1N4421w7xX/) - 2025æœ€æ–°ï¼Œæ¶µç›–ç´¢å¼•ã€ä¼˜åŒ–ã€å®žæˆ˜
- ðŸ“ [ç¾Žå›¢æŠ€æœ¯å›¢é˜Ÿï¼šMySQLç´¢å¼•åŽŸç†åŠæ…¢æŸ¥è¯¢ä¼˜åŒ–](https://tech.meituan.com/2014/06/30/mysql-index.html) - ç»å…¸æ–‡ç« ï¼Œå€¼å¾—åå¤é˜…è¯»
- ðŸ“ [MySQL 8.4 æ–°ç‰¹æ€§è§£è¯»](http://m.blog.itpub.net/30310891/viewspace-3100520/) - äº†è§£æœ€æ–°ç‰ˆæœ¬ç‰¹æ€§

### ðŸ”§ å®žç”¨å·¥å…·
- **å›¾å½¢åŒ–å®¢æˆ·ç«¯**ï¼šTablePlusï¼ˆMacï¼‰ã€DBeaverï¼ˆè·¨å¹³å°ï¼‰ã€MySQL Workbench
- **å‘½ä»¤è¡Œå¢žå¼º**ï¼šmycliï¼ˆå¸¦è‡ªåŠ¨è¡¥å…¨å’Œè¯­æ³•é«˜äº®ï¼‰
- **æ…¢æŸ¥è¯¢åˆ†æž**ï¼špt-query-digestï¼ˆPercona Toolkitï¼‰

---

## ä¸ƒã€éªŒæ”¶æ ‡å‡†

å­¦å®Œä¹‹åŽï¼Œä½ èƒ½å¤Ÿï¼š

1. [ ] ç‹¬ç«‹è®¾è®¡ç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„æ•°æ®åº“è¡¨ç»“æž„
2. [ ] ä½¿ç”¨ EXPLAIN åˆ†æž SQL æ‰§è¡Œè®¡åˆ’å¹¶ä¼˜åŒ–æ…¢æŸ¥è¯¢
3. [ ] æ­£ç¡®è®¾è®¡ç´¢å¼•ï¼Œç†è§£æœ€å·¦å‰ç¼€åŽŸåˆ™
4. [ ] ç†è§£äº‹åŠ¡çš„ ACID ç‰¹æ€§å’Œéš”ç¦»çº§åˆ«
5. [ ] ä½¿ç”¨ Docker éƒ¨ç½² MySQL å¹¶é…ç½®ä¸»ä»Žå¤åˆ¶
6. [ ] è§£å†³å¸¸è§çš„é”ç­‰å¾…å’Œæ­»é”é—®é¢˜
7. [ ] å¯¹åƒä¸‡çº§æ•°æ®è¡¨è¿›è¡Œåˆç†åˆ†åŒº

---

## å…«ã€ä¸‹ä¸€æ­¥æ·±å…¥æ–¹å‘ï¼ˆå¯é€‰ï¼‰

### å¦‚æžœéœ€è¦ç»§ç»­æ·±å…¥

- **æ€§èƒ½è°ƒä¼˜ä¸“å®¶**ï¼šInnoDB æºç ã€æ€§èƒ½è¯Šæ–­ã€å‚æ•°ä¼˜åŒ–
- **æ•°æ®åº“æž¶æž„å¸ˆ**ï¼šåˆ†åº“åˆ†è¡¨ã€è¯»å†™åˆ†ç¦»ã€é«˜å¯ç”¨æ–¹æ¡ˆï¼ˆMHAã€MGRï¼‰
- **æ•°æ®åº“å†…æ ¸å¼€å‘**ï¼šå‚ä¸Ž MySQL/MariaDB ç¤¾åŒºå¼€å‘

### ä¸Žä½ çŽ°æœ‰æŠ€èƒ½çš„ç»“åˆç‚¹

- **Go/Java + MySQL**ï¼šæ·±å…¥å­¦ä¹  ORMï¼ˆGORM/Hibernate/MyBatisï¼‰åº•å±‚åŽŸç†
- **Node.js + MySQL**ï¼šå¯¹æ¯” Prisma/Sequelize/Knex çš„å·®å¼‚
- **Docker + MySQL**ï¼šå®¹å™¨åŒ–éƒ¨ç½²ã€æ•°æ®æŒä¹…åŒ–ã€å¤‡ä»½ç­–ç•¥
- **æ ‘èŽ“æ´¾ + MySQL**ï¼šè¾¹ç¼˜è®¡ç®—ã€æœ¬åœ°æ•°æ®é‡‡é›†ä¸Žå­˜å‚¨
- **å‰ç«¯ + MySQL**ï¼šç†è§£åŽç«¯ API è¿”å›žçš„æ•°æ®ç»“æž„æ˜¯å¦‚ä½•ä»Žæ•°æ®åº“æŸ¥è¯¢å¾—åˆ°çš„

---

## ðŸŽ¯ æœ€åŽçš„å»ºè®®

1. **80/20 åŽŸåˆ™**ï¼š20% çš„ SQL è¯­å¥è¦†ç›– 80% çš„ä½¿ç”¨åœºæ™¯ï¼Œå…ˆç†Ÿç»ƒæŽŒæ¡å¸¸ç”¨æ“ä½œ
2. **åŠ¨æ‰‹å®žè·µ**ï¼šæ¯å­¦ä¸€ä¸ªæ¦‚å¿µéƒ½è¦äº²è‡ªéªŒè¯ï¼Œç”¨ EXPLAIN çœ‹æ‰§è¡Œè®¡åˆ’
3. **ç»“åˆé¡¹ç›®**ï¼šç”¨ä½ çŽ°æœ‰çš„é¡¹ç›®æˆ–è®¾å¤‡ï¼ˆæ ‘èŽ“æ´¾ã€ç±³å®¶ã€äº‘ç›˜ï¼‰ä½œä¸ºç»ƒæ‰‹é¡¹ç›®
4. **ä¸è¦é’»ç‰›è§’å°–**ï¼šé‡åˆ°å¤ªåº•å±‚çš„ç»†èŠ‚å…ˆè·³è¿‡ï¼Œç”¨åˆ°æ—¶å†æ·±å…¥ç ”ç©¶
5. **ç‰ˆæœ¬é€‰æ‹©**ï¼šç›´æŽ¥ä»Ž MySQL 8.4 å¼€å§‹å­¦ï¼Œè¿™æ˜¯å½“å‰çš„ LTS ç‰ˆæœ¬

---

**ç¥ä½ å­¦ä¹ é¡ºåˆ©ï¼** ðŸš€

> ç”Ÿæˆæ—¶é—´ï¼š2026-02-16
> ç‰ˆæœ¬ï¼šMySQL 8.4 LTS
